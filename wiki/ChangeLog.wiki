#summary 版本更新日志

= 1.0 =
尚未发布。

 * @EmbedList和@RefList增加了对数组的支持。
 * 新增@IndexEmbedList和@IndexRefList注解，支持集合属性的Lucene索引和搜索。 
 * 新增@IndexRefBy注解。 
 * @EnsureIndex中的index属性改为value。
 * @EnsureIndex注解增加了对name、unique、background等索引参数的支持。
 * @Property、@Embed、@EmbedList等注解增加了lazy属性，用于提高查询性能。 
 * BuguMapper类新增一个fetchLazy()方法，用于获取@Property、@Embed、@EmbedList等lazy属性。 
 * 删除了@Ref、@RefList的lazy属性，改用cascade。
 * @Ref、@RefList新增cascade属性。
 * 把BuguMapper中原来的两个fetch()方法改为fetchCascade()。
 * 鉴于BuguDao中原有的update方法难以理解和使用，全部改为set方法。
 * 解决bug：重建Lucene索引之前没有删除原来的索引。
 * 解决bug：MapperUtil中的hasIndexAnnotation()方法，当key中有“."的时候出错。
 * 增加了对ReadPreference的支持。
 * MongoDB Java Driver版本更新到2.7.2。

= 0.8 =
2011-10-19发布。

 * BuguConnection增加了对副本集(Replica Set)以及MongoOptions的支持。
 * BuguConnection和BuguSearcher等需要设置多个参数的地方，支持连缀书写形式。
 * BuguDao新增批量删除的方法。
 * 新增一个AdvancedDao类，将BuguDao中较少用到的高级功能(主要是MapReduce)移入其中。
 * 在AdvancedDao中增加了对group聚合函数的支持。
 * 新增一个Query类，用于更方便的实现查询。
 * 修改了@EnsureIndex注解中属性的规则，使其更容易使用。
 * @EnsureIndex增加了对地理空间数据索引的支持。
 * 增强了BuguParser的功能，解析字符串的时候，能设置Operator.AND或Operator.OR。
 * Uploader新增2个构造函数，用于保存byte[]和InputStream类型的数据。
 * ImageUploader新增getSize()方法，获取图片的宽度和高度。
 * 修正了图片压缩、加水印时可能出错的bug。
 * MongoDB Java Driver版本更新到2.6.5。
 * Lucene版本更新到3.4.0。

= 0.6 =
2011-09-15发布。

 * BuguConnection新增一个connect()方法，用于在不需要提供授权帐号的情况下连接数据库。
 * 增加了对short、Timestamp数据类型的支持。
 * 新增@EnsureIndex注解，用来建立数据库索引。
 * BuguDao新增getCollection()方法，用于获取DBCollection。
 * BuguDao新增drop()方法，用于删除Collection。
 * 解决了MapReduce中排序属性orderBy不能为null的bug。
 * BuguFS新增文件夹的概念，可以按文件夹来组织文件。
 * BuguFS可以对文件夹、文件进行重命名。
 * BuguFS可以将文件在文件夹之间移动。
 * BuguFS取出文件列表的时候，可以排序和分页。
 * 解决IndexReader在reopen之后没有释放的bug。
 * BuguSearcher新增close()方法，以关闭相应的IndexReader。
 * Lucene搜索增加了对高亮显示（Highlighter）的支持。
 * 把BuguIndex的线程池默认值由5改为10。
 * 对部分代码的性能进行了优化。

= 0.4 =
2011-08-20发布。

 * ODM增加了对Map数据类型的支持。
 * @RefList注解增加了sort属性，用于排序。
 * BuguDao中的排序，增加了对形如"level:1, name:-1"这样的多个排序属性的支持。
 * BuguDao中新增max()、min()、sum()等统计函数，并增强了mapReduce函数的功能。
 * 优化了BuguDao批量插入的性能。
 * 修正了IndexRebuildTask中批量处理的bug。
 * 修正了BuguFS中保存文件时附加属性的bug。
 * 增加了UploadedFileServlet对浏览器中支持文件的类型，包括html、htm、swf、mp3、mp4、pdf等。

= 0.2 =
2011-07-30发布